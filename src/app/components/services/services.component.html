<mat-toolbar>
  <span class="title">{{ title.getTitle() }}</span>
</mat-toolbar>
<div class="container">
  <div class="button-add" [class.hidden]="services.length < 1">
    <button mat-raised-button color="primary" (click)="createService()"><mat-icon>add</mat-icon> New service</button>
  </div>
  @for (service of services; track service.id) {
    <mat-selection-list multiple="false" class="service-list">
      @if ($index > 0) {
        <mat-divider></mat-divider>
      }
      <mat-list-option class="serviceList">
        <div routerLink="/services/{{ service.id }}" class="service-list-option">
          <span class="option-name">{{ service.name }}</span>
          @if (service.source) {
            <span class="option-source">Source language: {{ languageNames.of(service.source) }}</span>
          }
          @if (service.target && service.target.length > 0) {
            <span class="option-target"
              >Target languages:
              @for (target of service.target; track target) {
                <span>{{ languageNames.of(target) + ' ' }}</span>
              }
            </span>
          }
        </div>
        <div>
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" style="padding-right: 20px">
            <button mat-menu-item (click)="editService(service)">
              <mat-icon style="max-width: 16px" inline class="material-symbols-outlined">edit</mat-icon>
              <span>Edit</span>
            </button>
            <button mat-menu-item (click)="deleteService(service, $index)" style="padding-right: 25px">
              <mat-icon inline class="material-symbols-outlined">delete</mat-icon>
              <span>Delete</span>
            </button>
          </mat-menu>
        </div>
      </mat-list-option>
    </mat-selection-list>
  } @empty {
    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 3rem">
      <span style="font-size: 1.5rem; padding: 0.5em"> No service found.</span>
      <span style="font-size: 2rem; padding-bottom: 2rem; margin-top: 1rem">Create your first service</span>
      <button class="shakeit" mat-stroked-button color="primary" (click)="createService()">
        <mat-icon>add</mat-icon>Get started
      </button>
    </div>
  }
</div>
